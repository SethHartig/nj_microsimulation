frs_df3 = frs_df2 %>%
mutate(
family_structure = ifelse(family_structure == "one-parent", 1, 2)
) %>%
filter(family_structure == 2)
frs_df3
frs_df3 %>% count(starts_with("disability_child"))
frs_df3 %>% count(starts_with(disability_child))
frs_df3 %>%
filter(starts_with("disability_child"))
frs_df3 %>%
filter(starts_with("disability"))
frs_df3 %>%
select(starts_with("disability"))
frs_df3 %>%
select(starts_with("disability")) %>%
count()
frs_df3 %>%
select(starts_with("disability"))
frs_df3 %>%
select(starts_with("disability"))
count(disability_parent1)
frs_df3 %>%
select(starts_with("disability"))
count(disability_parent1)
frs_df3 %>%
select(starts_with("disability")) %>%
count(disability_parent1)
frs_df3 %>%
select(starts_with("disability")) %>%
count(disability_parent2)
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na(disability_parent2))
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na(disability_parent1))
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na(disability_parent3))
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na(disability_parent3))
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na(disability_parent4))
frs_df3 %>%
select(starts_with("disability")) %>%
is.na()
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na())
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na
frs_df3 %>%
select(starts_with("disability")) %>%
count(is.na)
frs_df3 %>%
select(starts_with("disability"))
frs_df3 %>%
select(starts_with("disability")) %>%
na.rm()
frs_df3 %>%
select(starts_with("disability"))
sum(is.na(disability_child1))
frs_df3 %>%
select(starts_with("disability"))
sum(is.na(disability_child1))
frs_df3 %>%
select(starts_with("disability"))
sum(is.na(disability_parent1))
frs_df3 %>%
select(starts_with("disability_child"))
frs_df3 %>%
select(starts_with("disability_child")) %>%
count(is.na())
frs_df3 %>%
select(starts_with("disability_child")) %>%
filter(
is.na(.) == T
)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
filter(
is.na(.) == T
)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) S
frs_df3 %>%
select(SERIALNO,starts_with("disability_child"))
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
filter(
is.na(.) == T
)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
filter(
is.na(-(SERIALNO)) == T
)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
filter(
is.na(-SERIALNO) == T
)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
filter(
is.na(disability_child) == T
)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
filter(
is.na(disability_child1) == T
)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
count(disability_child1)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
replace_na(1)
frs_df3 %>%
select(SERIALNO,starts_with("disability_child")) %>%
replace_na("1")
frs_df3 %>%
select(starts_with("disability_child"))
frs_df3 %>%
select(starts_with("disability_parent"))
frs_df3 %>%
select(starts_with("disability_parent"))  %>%
count(disability_parent1)
frs_df3 %>%
select(starts_with("disability_parent"))  %>%
count(disability_parent2)
frs_df3 %>%
select(starts_with("disability_child"))  %>%
count(disability_parent2)
frs_df3 %>%
select(starts_with("disability_child"))  %>%
count(disability_child2)
frs_df3 %>%
select(starts_with("disability_child"))  %>%
count(disability_child1)
frs_df3 %>%
select(starts_with("disability_child"))  %>%
count(disability_child3)
frs_df3 %>%
select(starts_with("disability_child"))  %>%
count(disability_child4)
frs_df3 %>%
mutate_across(starts_with("disability_child"), replace_na(.,1))
frs_df3 %>%
mutate_across.(starts_with("disability_child"), replace_na(.,1))
frs_df3 %>%
dplyr::mutate_across.(starts_with("disability_child"), replace_na(.,1))
frs_df3 %>%
dplyr::mutate_at(starts_with("disability_child"), replace_na(.,1))
frs_df3 %>%
mutate(across(vars(disability_child1,disability_child2,disability_child3,disability_child4,disability_child5)))
frs_df3 %>%
mutate(across(vars("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")))
frs_df3 %>%
mutate(across(vars(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"))))
frs_df3 %>%
mutate(vars(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")),replace_na(.,1))
frs_df3 %>%
mutate(across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")),replace_na(.,1))
frs_df3 %>%
mutate(across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")),replace_na(1))
frs_df3 %>%
mutate(across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")),replace_na(1)) %>%
count(disability_child1)
frs_df3 %>%
mutate(across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")), ~ replace_na(.,1)) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")),
~ replace(is.na(.),1)) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5")),
~ replace(is.na(.x),1)) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~ replace(is.na(.x),1))) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(everything(), ~replace_na(.x, 0))
) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child2)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child3)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child4)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child3)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child2)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child3)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child4)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child5)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child5)
dea_df3 %>%
mutate_at(
vars(disability_child1:disability_child5), funs(replace_na(.,1))
)
frs_df3 %>%
mutate(
across(c("disability_child1","disability_child2","disability_child3","disability_child4","disability_child5"),
~replace_na(.x, 1))
) %>%
count(disability_child5)
frs_df3 %>%
mutate_at(
vars(disability_child1:disability_child5), funs(replace_na(.,1))
)
frs_df3 %>%
mutate(
across(disability_child1:disability_child5,
~replace_na(.x, 1))
) %>%
count(disability_child5)
frs_df3 %>%
mutate_at(
vars(disability_child1:disability_child5), funs(replace_na(.,1))
)
frs_df3 %>%
mutate(
across(disability_child1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_child1:disability_child5,
~ifelse(.x == -9, 0, .x))
)
frs_df3 %>%
mutate(
across(disability_child1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_child1:disability_child5,
~ifelse(.x == -9, 0, .x))
) %>%
count(disability_parent2)
frs_df3 %>%
mutate(
across(disability_parent1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_parent1:disability_child5,
~ifelse(.x == -9, 0, .x))
) %>%
count(disability_parent2)
frs_df3 %>%
mutate(
across(disability_parent1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_parent1:disability_child5,
~ifelse(.x == -9, 0, .x))
) %>%
count(disability_parent3)
frs_df3 %>%
mutate(
across(disability_parent1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_parent1:disability_child5,
~ifelse(.x == -9, 0, .x))
) %>%
count(disability_child1)
frs_df3 %>%
mutate(
across(disability_parent1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_parent1:disability_child5,
~ifelse(.x == -9, 0, .x))
) %>%
count(disability_child2)
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
df_immi
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(funs(paste0("child",1:5),"_","immigration_status")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(funs(paste0("child",1:5),"_","immigration_status"))
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(funs(paste0("child",1:5),"_","immigration_status"))
df_immi
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(funs(c_prefix,"_","immigration_status"))
df_immi
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(funs(paste(c_prefix,"_","immigration_status")))
df_immi
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(~funs(paste(c_prefix,"_","immigration_status")))
df_immi
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
funs(paste(prefix,"disability",sep="_")
c_prefix = paste0("child",1:5)
c_immi = fpaste(c_prefix,"disability",sep="_")
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"disability",sep="_")
p_prefix = paste0("parent",1:2)
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"disability",sep="_")
c_immi
p_prefix = paste0("parent",1:2)
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"immigration_status",sep="_")
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
df_immi
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"immigration_status",sep="_")
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
frs_df5 = cbind(frs_df4, df_immi)
frs_df4 = frs_df3 %>%
mutate(
across(disability_parent1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_parent1:disability_child5,
~ifelse(.x == -9, 0, .x))
) %>%
count(disability_child2)
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"immigration_status",sep="_")
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
frs_df5 = cbind(frs_df4, df_immi)
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"immigration_status",sep="_")
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
frs_df5 = cbind(frs_df4, df_immi) %>%
relocate(ends_with("immigration_status"),.after = immigration)
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"immigration_status",sep="_")
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
frs_df5 = cbind(frs_df4, df_immi) %>%
relocate(ends_with("immigration_status"),.after = immigration)
frs_df4
frs_df4 = frs_df3 %>%
mutate(
across(disability_parent1:disability_child5,
~replace_na(.x, 1))
) %>%
mutate(
across(disability_parent1:disability_child5,
~ifelse(.x == -9, 0, .x))
)
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"immigration_status",sep="_")
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
frs_df5 = cbind(frs_df4, df_immi) %>%
relocate(ends_with("immigration_status"),.after = immigration)
c_prefix = paste0("child",1:5)
c_immi = paste(c_prefix,"immigration_status",sep="_")
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=7))
colnames(df_immi) = c(c_immi,p_immi)
frs_df5 = cbind(frs_df4, df_immi)
frs_df5
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=2))
colnames(df_immi) = p_immi
frs_df5 = cbind(frs_df4, df_immi)
frs_df5
p_prefix = paste0("parent",1:2)
p_immi = paste(p_prefix,"immigration_status",sep="_")
df_immi = as.data.frame(matrix(nrow=8692,ncol=2))
colnames(df_immi) = p_immi
frs_df5 = cbind(frs_df4, df_immi) %>%
relocate(c("parent1_immigration_status","parent2_immigration_status"),.after=immigration)
frs_df5
frs_df5
frs_df5 %>%
select(SERIALNO, weekenddaysworked)
frs_df5 %>%
select(SERIALNO, weekenddaysworked) %>%
round(weekenddaysworked)
frs_df5 %>%
select(SERIALNO, weekenddaysworked) %>%
mutate(
weekenddaysworked =   round(weekenddaysworked)
)
frs_df5 %>%
select(SERIALNO, weekenddaysworked) %>%
mutate(
weekenddaysworked = round(weekenddaysworked)
) %>%
count(weekenddaysworked)
frs_df5 %>%
select(SERIALNO, weekenddaysworked) %>%
mutate(
weekenddaysworked = round(weekenddaysworked),
weekenddaysworked = ifelse(is.na(weekenddaysworked),0,weekenddaysworked)
) %>%
count(weekenddaysworked)
frs_df5 %>%
mutate(
weekenddaysworked = round(weekenddaysworked),
weekenddaysworked = ifelse(is.na(weekenddaysworked),0,weekenddaysworked)
) %>%
count(weekenddaysworked)
frs_df6 = frs_df5 %>%
mutate(
weekenddaysworked = round(weekenddaysworked),
weekenddaysworked = ifelse(is.na(weekenddaysworked),0,weekenddaysworked)
)
frs_df6 = frs_df5 %>%
mutate(
weekenddaysworked = round(weekenddaysworked),
weekenddaysworked = ifelse(is.na(weekenddaysworked),0,weekenddaysworked)
)
frs_df6
frs_df6 = frs_df5 %>%
mutate(
weekenddaysworked = round(weekenddaysworked),
weekenddaysworked = ifelse(is.na(weekenddaysworked),0,weekenddaysworked)
)
frs_df6 %>% View()
frs_df6 %>%
select(SERIALNO, maxworkweek_parent1)
